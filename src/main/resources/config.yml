# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                 HuskHomesMenus Config                 ┃
# ┃               Copyright © 2025 Sorekill               ┃
# ┃    Licensed under the Apache License, Version 2.0.    ┃
# ┣━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
# ┣╸ Version: 1.1.4
# ┣╸ Purpose: GUI + toggles + proxy-safe messaging for HuskHomes TPA/TPAHERE
# ┗╸ Notes: Designed for proxy networks (Velocity/Bungee/Waterfall)

# ┌──────────────────────────────────────────────────────────────┐
# │  PERMISSIONS                                                 │
# └──────────────────────────────────────────────────────────────┘
# Command permissions
#   huskhomesmenus.admin         -> /hhm <version | reload>
#   huskhomesmenus.tpa           -> /tpa
#   huskhomesmenus.tpahere       -> /tpahere
#   huskhomesmenus.tpaccept      -> /tpaccept
#   huskhomesmenus.tpdeny        -> /tpdeny
#   huskhomesmenus.tpatoggle     -> /tpatoggle
#   huskhomesmenus.tpaheretoggle -> /tpaheretoggle
#   huskhomesmenus.tpmenu        -> /tpmenu
#   huskhomesmenus.tpauto        -> /tpauto
#   huskhomesmenus.home          -> /home and /homes
#   huskhomesmenus.homemenu      -> /homemenu
#
#   huskhomesmenus.warps         -> /warps (opens GUI)
#   huskhomesmenus.warpmenu      -> /warpmenu (toggle GUI on/off)

# ┌──────────────────────────────────────────────────────────────┐
# │  PLACEHOLDERS (If you have PlaceholderAPI Installed)         │
# └──────────────────────────────────────────────────────────────┘
# This plugin registers a PlaceholderAPI expansion with identifier:
#   %huskhomesmenus_<placeholder>%
#
# Supported placeholders:
#
# 1) Raw booleans (returns "true" / "false")
#   %huskhomesmenus_tpa%           -> true/false
#   %huskhomesmenus_tpahere%       -> true/false
#   %huskhomesmenus_tpmenu%        -> true/false
#
# 2) Text (returns "ON" / "OFF")
#   %huskhomesmenus_tpa_text%      -> ON/OFF
#   %huskhomesmenus_tpahere_text%  -> ON/OFF
#   %huskhomesmenus_tpmenu_text%   -> ON/OFF
#
# 3) Icons (returns "✔" / "✘")
#   %huskhomesmenus_tpa_icon%      -> ✔/✘
#   %huskhomesmenus_tpahere_icon%  -> ✔/✘
#   %huskhomesmenus_tpmenu_icon%   -> ✔/✘
#
# 4) Pretty (colored & bold; returns "&a&lON" or "&c&lOFF" after colorization)
#   %huskhomesmenus_tpa_pretty%
#   %huskhomesmenus_tpahere_pretty%
#   %huskhomesmenus_tpmenu_pretty%
#   %huskhomesmenus_tpauto_pretty%
#
# 5) Combined status line tpas (colored)
#   %huskhomesmenus_requests_pretty%
#     -> "TPA: ON/OFF | TPAHERE: ON/OFF" (with colors)
#
# 6) Combined status line (colored)
#   %huskhomesmenus_all_pretty%
#     -> "TPA: ON/OFF | TPAHERE: ON/OFF | TPMenu: ON/OFF | TPAuto: ON/OFF" (with colors)

# Name of the server (if proxy enabled it should match the proxy name or the serverID in huskhomes)
backend_name: hub

# Whether to log extra debugging info (recommended OFF unless testing)
debug: false

# ┌──────────────────────────────────────────────────────────────┐
# │ Update Checker                                               │
# └──────────────────────────────────────────────────────────────┘
update_checker:
  enabled: true
  notify_console: true
  notify_on_join: true

# ┌──────────────────────────────────────────────────────────────┐
# │ Messages                                                     │
# └──────────────────────────────────────────────────────────────┘
messages:
  # Prefix added before most chat messages from this plugin.
  # Leave blank ("") if you don't want a prefix.
  prefix: "&8[&bHuskHomesMenus&8]&r "

  # Messages sent to the sender of a teleport request (the person typing /tpa or /tpahere)
  sender:
    # Sent to the sender when the target has TPA requests disabled.
    tpa_off:
      # If false, this message will not be sent at all.
      enabled: true
      text: "&cThat player has &lTPA&r &crequests off."

    # Sent to the sender when the target has TPAHERE requests disabled.
    tpahere_off:
      enabled: true
      text: "&cThat player has &lTPAHERE&r &crequests off."

    # Sent to the sender when the target has *both* TPA and TPAHERE disabled.
    both_off:
      enabled: true
      text: "&cThat player has teleport requests off."

  # Messages sent to the *target* of a teleport request (the person being requested).
  target:
    # Sent to the target when a request is blocked by toggles.
    # Placeholders:
    # - %sender% -> the player who tried to request
    blocked_notice:
      # If false, the target will NOT be notified when a request is blocked.
      enabled: false
      text: "&7You blocked a teleport request from &f%sender%&7."

  # Messages shown when a player toggles their request settings (/tpatoggle, /tpaheretoggle)
  toggles:
    # If enabled, after toggling we will show the status lines below.
    show_status_lines:
      enabled: true

    # Format for the TPA status line.
    # Placeholders:
    # - %state% -> ON / OFF
    # - %color% -> &a for ON, &c for OFF (chosen by the plugin)
    tpa_status_line:
      enabled: true
      text: "%color%TPA requests: %state%"

    # Format for the TPAHERE status line.
    tpahere_status_line:
      enabled: true
      text: "%color%TPAHere requests: %state%"

    # Format for the TPAuto status line.
    tpauto_status_line:
      enabled: true
      text: "%color%Teleport Auto Accept: %state%"

    # Format for the TPMenu status line.
    tpmenu_status_line:
      enabled: true
      text: "%color%Teleport Menu: %state%"

  # Messages shown to players throughout the homes menu
  homes:
    # If enabled, after toggling we will show the status lines below.
    show_status_lines:
      enabled: true

    # Format for the HomeMenu status line.
    homemenu_status_line:
      enabled: true
      text: "%color%Home Menu: %state%"

  # Messages shown to players for warp menu + toggle
  warps:
    disabled:
      enabled: true
      text: "&cWarps menu is disabled."

    menu_off:
      enabled: true
      text: "&cWarp Menu is disabled. Use &f/warpmenu &cto enable it."

    show_status_lines:
      enabled: true

    warpmenu_status_line:
      enabled: true
      text: "%color%Warp Menu: %state%"

# ┌──────────────────────────────────────────────────────────────┐
# │ Proxy / Cross-server messaging                               │
# └──────────────────────────────────────────────────────────────┘
proxy:
  # Enable this if you are running a proxy (Velocity or BungeeCord/Waterfall).
  #
  # Velocity:
  #  - Set this to true
  #  - In Velocity's velocity.toml set:
  #      bungee-plugin-message-channel = true
  #
  # BungeeCord/Waterfall:
  #  - Set this to true
  enabled: false

# ┌──────────────────────────────────────────────────────────────┐
# │ Command Auto-Completion / Player lookup                      │
# └──────────────────────────────────────────────────────────────┘
cache:
  # How often to refresh the proxy player list cache (seconds)
  refresh_interval_seconds: 5

  # If a lookup fails, how long (ms) to remember that failure
  negative_cache_millis: 2000

# ┌──────────────────────────────────────────────────────────────┐
# │ Menus                                                        │
# └──────────────────────────────────────────────────────────────┘
#
# This section controls ALL GUI menus for HuskHomesMenus.
# Each menu is generated from this config every time it opens.
#
# General rules for ALL chest GUIs:
# - A chest menu has 9 columns per row
# - "rows" controls the total size: rows * 9 slots
# - Slots are ZERO-BASED (first slot is 0)
#
# Example slot map for rows: 3 (27 slots total)
#   Row 1:  0  1  2  3  4  5  6  7  8
#   Row 2:  9 10 11 12 13 14 15 16 17
#   Row 3: 18 19 20 21 22 23 24 25 26
#
# Menu items:
# - "items" are extra decorative/info items placed in the GUI
# - Only the buttons under "accept" and "deny" are clickable by default
#   (Everything in "items" is display-only unless you add click logic in code)

menus:
  # ┌──────────────────────────────────────────────────────────────┐
  # │ TPA Request Menu                                             │
  # └──────────────────────────────────────────────────────────────┘
  confirm_request:
    # Enables/disables the confirm GUI entirely
    enabled: true

    # If true: closing the menu acts the same as clicking "deny"
    # (Prevents players from dodging the choice by just closing the GUI)
    auto_deny_on_close: true

    # Fallback menu title (used if request type can't be determined)
    title: "&8ᴄᴏɴꜰɪʀᴍ ʀᴇǫᴜᴇꜱᴛ"

    # Title for /tpa requests
    title_tpa: "&8ᴛᴇʟᴇᴘᴏʀᴛ ʀᴇǫᴜᴇꜱᴛ"

    # Title for /tpahere requests
    title_tpahere: "&8ᴛᴇʟᴇᴘᴏʀᴛ ʜᴇʀᴇ ʀᴇǫᴜᴇꜱᴛ"

    # GUI size in rows (rows * 9 slots)
    rows: 3

    # If true: fills every empty slot with "filler" (background glass pane)
    use_filler: false

    # The filler/background item used when use_filler is true
    filler:
      material: GRAY_STAINED_GLASS_PANE
      name: " "
      lore: []
      glow: false
      custom_model_data: 0

    # Extra info-only items (NOT clickable unless coded)
    items:
      # Shows the SENDER's dimension as text + correct dimension icon
      - slot: 12
        type: DIMENSION_ITEM
        name: "&a&lʟᴏᴄᴀᴛɪᴏɴ"
        lore:
          - "&7%dimension_name%"
        overworld_material: GRASS_BLOCK
        nether_material: NETHERRACK
        end_material: END_STONE

      # Shows the SENDER's player head + their name
      - slot: 13
        type: PLAYER_HEAD
        head_of: SENDER
        name: "&a&lᴘʟᴀʏᴇʀ"
        lore:
          - "&7%sender%"

      # Shows Local/Remote (ONLY shown if proxy is enabled)
      - slot: 14
        type: ITEM
        material: FEATHER
        name: "&a&lʀᴇɢɪᴏɴ"
        lore:
          - "&7%region%"
        requires_proxy: true

    # "Deny" button (clickable)
    deny:
      slot: 10
      item:
        material: RED_STAINED_GLASS_PANE
        name: "&c&lᴄᴀɴᴄᴇʟ"
        lore:
          - "&7Click to cancel the teleport"
        glow: false
        custom_model_data: 0
      click:
        sound: UI_BUTTON_CLICK
        close_menu: true

    # "Accept" button (clickable)
    accept:
      slot: 16
      item:
        material: LIME_STAINED_GLASS_PANE
        name: "&a&lᴄᴏɴꜰɪʀᴍ"
        lore:
          - "&7Click to accept %sender%'s request"
        glow: false
        custom_model_data: 0
      click:
        sound: UI_BUTTON_CLICK
        close_menu: true

  # ┌──────────────────────────────────────────────────────────────┐
  # │ Homes Menu                                                   │
  # └──────────────────────────────────────────────────────────────┘
  homes:
    enabled: true
    title: "&8ʜᴏᴍᴇꜱ"
    rows: 4

    # Turning center to true will center the beds regardless of the layout.
    center: false

    # ┌──────────────────────────────────────────────────────────────┐
    # │ Max Homes (Permission Override)                              │
    # └──────────────────────────────────────────────────────────────┘
    #
    # The number of "beds" (home slots) shown in this menu is determined like this:
    #
    # 1) If the player has a permission in the format:
    #      huskhomes.max_homes.<number>
    #    then the menu will show THAT many homes.
    #
    #    Examples:
    #      - huskhomes.max_homes.1   -> shows 1 home slot
    #      - huskhomes.max_homes.5   -> shows 5 home slots
    #      - huskhomes.max_homes.25  -> shows 25 home slots
    #
    #    If a player has multiple, the highest number wins.
    #
    # 2) If the player has NO huskhomes.max_homes.<number> permission at all,
    #    then the menu falls back to HuskHomes' config setting:
    #      HuskHomes/config.yml -> general.max_homes
    #
    # Note:
    # - huskhomes.max_homes.* does NOT specify a number, so it does not control menu size.
    # - You normally set these via LuckPerms (groups/players), not here in this config.
    max_homes_permission_info:
      enabled: true

    # Background filler behavior
    use_filler: false
    filler:
      material: GRAY_STAINED_GLASS_PANE
      name: " "
      lore: []
      glow: false
      custom_model_data: 0

    # Grid layout rules for positioning home items
    layout:
      columns: 7
      teleport_row_start_slot: 10
      action_row_start_slot: 19
      action_row_offset_rows: 1
      line_stride_rows: 2

    # Items shown for each home slot
    home_items:
      # TELEPORT item (shown when a home exists)
      teleport:
        material: LIGHT_BLUE_BED
        name: "&bʜᴏᴍᴇ %home_name%"
        lore:
          # - "&a&lꜱᴇʀᴠᴇʀ: &7%home_server%"      # only useful when proxy is enabled
          - "&6&lᴡᴏʀʟᴅ: &7%home_world%"          # useful for multi-world servers
          - "&b&lᴅɪᴍᴇɴꜱɪᴏɴ: &7%home_dimension%"  # Overworld / Nether / The End
          - "&5&lᴄᴏᴏʀᴅꜱ: &7%home_coords%"        # or use %home_x%, %home_y%, %home_z%
          - "&fClick to teleport to your home"
        glow: false
        custom_model_data: 0

      # TELEPORT item (shown when no home exists)
      empty_bed:
        material: LIGHT_GRAY_BED
        name: "&7NO HOME SET"
        lore: []
        glow: false
        custom_model_data: 0

      # ACTION item (shown when no home exists)
      # Clicking this will create a home (optionally via sign prompt)
      empty_action:
        material: GRAY_DYE
        name: "&7ɴᴏ ʜᴏᴍᴇ ꜱᴇᴛ"
        lore:
          - "&7- Click to save your location"
        glow: false
        custom_model_data: 0

      # ACTION item (shown when a home exists)
      # Clicking this opens delete confirmation (if enabled)
      delete_action:
        material: LIGHT_BLUE_DYE
        name: "&bʜᴏᴍᴇ %home_name%"
        lore:
          - "&fClick to delete &bHOME %home_name%"
        glow: false
        custom_model_data: 0

    # Page navigation controls (only used when multiple pages exist)
    navigation:
      enabled: true
      prev_slot: 29
      page_slot: 31
      next_slot: 33
      close_slot: 35

      prev_item:
        material: ARROW
        name: "&ePrevious"
        lore:
          - "&7Go to page %prev_page%"
        glow: false
        custom_model_data: 0

      page_item:
        material: PAPER
        name: "&fPage &a%page%&f/&a%pages%"
        lore:
          - "&7Max homes: &f%max_homes%"
        glow: false
        custom_model_data: 0

      next_item:
        material: ARROW
        name: "&eNext"
        lore:
          - "&7Go to page %next_page%"
        glow: false
        custom_model_data: 0

      close_item:
        material: BARRIER
        name: "&cClose"
        lore:
          - "&7Close this menu"
        glow: false
        custom_model_data: 0

    # Delete confirmation GUI (opened when clicking delete_action)
    delete_confirm:
      enabled: true
      title: "&8ᴄᴏɴꜰɪʀᴍ ᴅᴇʟᴇᴛᴇ"
      rows: 3

      use_filler: false
      filler:
        material: GRAY_STAINED_GLASS_PANE
        name: " "
        lore: []
        glow: false
        custom_model_data: 0

      items:
        cancel:
          slot: 11
          material: RED_STAINED_GLASS_PANE
          name: "&cᴄᴀɴᴄᴇʟ"
          lore:
            - "&7Click to cancel!"
          glow: false
          custom_model_data: 0

        home:
          slot: 13
          material: LIGHT_BLUE_DYE
          name: "&bʜᴏᴍᴇ %home_name%"
          lore: []
          glow: false
          custom_model_data: 0

        confirm:
          slot: 15
          material: LIME_STAINED_GLASS_PANE
          name: "&aᴄᴏɴꜰɪʀᴍ"
          lore:
            - "&7Click to delete"
          glow: false
          custom_model_data: 0

    # Sign prompt shown when creating a new home
    create_home_sign:
      # If false: no sign UI; home name becomes the slot number automatically
      enabled: true

      # Sign material used for the temporary sign
      material: OAK_SIGN

      # Lines shown in the sign editor (4 lines total)
      # Your setup:
      # - line 0: blank so the player types the name there
      # - lines 1-3: instructions
      lines:
        - ""                      # Player types the home name here
        - "^^^^^^^^^^^^^^^"       # Instruction line
        - "Name your home"        # Instruction line
        - "Press Done to save"    # Instruction line

  # ┌──────────────────────────────────────────────────────────────┐
  # │ Warps Menu                                                   │
  # └──────────────────────────────────────────────────────────────┘
  warps:
    enabled: true
    title: "&8ᴡᴀʀᴘꜱ"
    rows: 4

    # ──────────────────────────────────────────────────────────────
    # PERMISSIONS (how the warps GUI decides what to show / allow)
    #
    # There are TWO different kinds of permissions involved:
    #
    # 1) COMMAND PERMISSIONS (HuskHomes)
    #    - huskhomes.command.warp     -> allows /warp
    #    - huskhomes.command.warplist -> allows /warps (list)
    #
    #    These are ONLY checked when the GUI is NOT being used
    #    (for example: if the GUI is disabled, the player has their GUI toggle OFF,
    #    or the player runs /warp <name> with arguments and we forward to HuskHomes).
    #
    # 2) PER-WARP PERMISSIONS (HuskHomes)
    #    - huskhomes.warp.<warpname>  -> allows THAT specific warp
    #    - huskhomes.warp.*           -> allows ALL warps
    #
    #    These control which warps show up in the GUI and whether clicking can teleport.
    #
    # IMPORTANT "FALLBACK" RULE (to support servers that don't use per-warp perms):
    # - If a player has ANY per-warp permission node for any existing warp
    #   (or has huskhomes.warp.*), the GUI will ONLY show the warps they have permission for.
    # - If a player has ZERO per-warp permission nodes, the GUI will show ALL warps.
    #
    # show_locked_warps:
    # - true  = show warps you can't use as the "locked" item (cannot teleport)
    # - false = hide warps you can't use entirely
    #
    # Warp names are checked case-insensitively: huskhomes.warp.<warpname> is lowercased.
    # Example: Warp "Spawn" -> permission "huskhomes.warp.spawn"
    # ──────────────────────────────────────────────────────────────

    # Background filler behavior (matches homes)
    use_filler: false
    filler:
      material: GRAY_STAINED_GLASS_PANE
      name: " "
      lore: []
      glow: false
      custom_model_data: 0

    # Optional: explicitly control which slots are used for warp items.
    # If empty/missing, it will fill all non-nav slots automatically.
    layout:
      item_slots: [10, 11, 12, 13, 14, 15, 16, 19, 20, 21, 22, 23, 24, 25]

    # Optional (safe if unused): sorting behavior for display
    sort:
      enabled: false
      mode: NAME_ASC # NAME_ASC, NAME_DESC (only if you implement later)

    # Controls whether warps you *can't use* still appear as "locked" items.
    # true  = show locked items (but prevent teleport)
    # false = hide locked warps entirely
    show_locked_warps: false

    # Items shown for each warp slot
    warp_items:
      # Default warp item (shown when warp exists & player can use it)
      teleport:
        material: ENDER_PEARL
        name: "&b%warp_name%"
        lore:
          # - "&a&lꜱᴇʀᴠᴇʀ: &7%warp_server%"      # only useful when proxy is enabled
          - "&6&lᴡᴏʀʟᴅ: &7%warp_world%"          # useful for multi-world servers
          - "&b&lᴅɪᴍᴇɴꜱɪᴏɴ: &7%warp_dimension%"  # Overworld / Nether / The End
          - "&5&lᴄᴏᴏʀᴅꜱ: &7%warp_coords%"        # or use %warp_x%, %warp_y%, %warp_z%
          - "&fClick to teleport %warp_name%"
        glow: false
        custom_model_data: 0
        click:
          sound: UI_BUTTON_CLICK
          close_menu: true

      # Shown when a warp exists but player lacks permission (only if show_locked_warps: true)
      locked:
        material: BARRIER
        name: "&c%warp_name%"
        lore:
          - "&7You don't have permission."
        glow: false
        custom_model_data: 0
        click:
          sound: UI_BUTTON_CLICK
          close_menu: false

      # Shown when there are no warps to display
      empty:
        material: GRAY_DYE
        name: "&7No warps available"
        lore: []
        glow: false
        custom_model_data: 0

    # Page navigation controls (matches homes.navigation)
    navigation:
      enabled: true
      prev_slot: 29
      page_slot: 31
      next_slot: 33
      close_slot: 35

      # Optional: separate nav click sound (falls back to warp_items.teleport.click.sound if you code it that way)
      click_sound: UI_BUTTON_CLICK

      prev_item:
        material: ARROW
        name: "&ePrevious"
        lore:
          - "&7Go to page %prev_page%"
        glow: false
        custom_model_data: 0

      page_item:
        material: PAPER
        name: "&fPage &a%page%&f/&a%pages%"
        lore:
          - "&7Warps: &f%total_warps%"
        glow: false
        custom_model_data: 0

      next_item:
        material: ARROW
        name: "&eNext"
        lore:
          - "&7Go to page %next_page%"
        glow: false
        custom_model_data: 0

      close_item:
        material: BARRIER
        name: "&cClose"
        lore:
          - "&7Close this menu"
        glow: false
        custom_model_data: 0

    # Optional per-warp overrides (permission + item)
    # If you implement this later, keep it exactly like this shape.
    warp_overrides:
      # Example:
      # spawn:
      #   permission: "huskhomes.warp.spawn"
      #   show_without_permission: false   # (you can map this to show_locked_warps behavior per-warp)
      #   item:
      #     material: NETHER_STAR
      #     name: "&aSpawn"
      #     lore: ["&7Go to spawn"]
      #     glow: true
      #     custom_model_data: 0
      #     click:
      #       sound: ENTITY_ENDERMAN_TELEPORT
      #       close_menu: true